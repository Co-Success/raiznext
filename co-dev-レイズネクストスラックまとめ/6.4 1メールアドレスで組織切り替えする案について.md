和田 剛 (plant dev)和田 剛 (plant dev)  [6月4日 15:40](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749019224215429)  

[@日山しずか（Sol G）](https://sensyn-robotics.slack.com/team/U0405EVJQSZ)cc: [@西岡 伊織（Sol2T）](https://sensyn-robotics.slack.com/team/U04KUHFF7SA) [@三方 浩成（SolG）](https://sensyn-robotics.slack.com/team/U07P5SJBM71) cc: [@河口 真貴子](https://sensyn-robotics.slack.com/team/U031FRESR55)  
[@倉谷伸宏](https://sensyn-robotics.slack.com/team/U07LW7F5ABA)さんには朝会で伝えましたが、先日の藤田さんとのミーティングで話題になった、1メールアドレスで組織切り替えする案を採用する余地があるか検討しています。  
1組織内でアプリ側複数プロジェクト作るのはSensynIDの設計思想に反するようですし、1組織には1定修工事だけという制約をつけられればアプリの機能がSensynIDに不必要に依存することもないため、SensynID側の機能で組織を切り替える案です。まずは技術面のフィージビリティの有無を本日16時から[@高 銀培(コウ ウンベ)(SPdev)](https://sensyn-robotics.slack.com/team/U0401RLBFM4) さん、[@野田 智也](https://sensyn-robotics.slack.com/team/U07MMEVHBD3) さん、[@中山 一哉（SR）](https://sensyn-robotics.slack.com/team/U07PWRT53FF) さんと相談します。  
ユーザーや組織管理の運用面などについても別途企画の皆さんと相談させてください。

19 件の返信

---

![](https://ca.slack-edge.com/T7L88TM38-U07D1SN9CJ1-57617275cd14-48)

和田 剛 (plant dev)和田 剛 (plant dev)  [6月4日 15:41](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749019291629419?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

技術面の検討は[こちら](https://sensyn-robotics.atlassian.net/wiki/spaces/SN/pages/edit-v2/1800110513)のコンフルに書いているところです。

[15:42](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749019320666039?thread_ts=1749019224.215429&cid=C06MR75MQKY)

FYI [@岡村 智史 (Dev, Platform App)](https://sensyn-robotics.slack.com/team/U88UW2EFM) [@中山 淳 (Sol G (Dev))](https://sensyn-robotics.slack.com/team/U9YT2GF6C) [@佐々木 義広(Ent/Str電力/基盤Dev) 6/13(金)休み](https://sensyn-robotics.slack.com/team/U035M8PDXPA)

![](https://ca.slack-edge.com/T7L88TM38-U0405EVJQSZ-000962c57304-48)

日山しずか（Sol G）日山しずか（Sol G）  [6月4日 15:57](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749020235548779?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

[@和田 剛 (plant dev)](https://sensyn-robotics.slack.com/team/U07D1SN9CJ1)  
ご検討ありがとうございます![:おじぎ_女性:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/apple-medium/1f647-200d-2640-fe0f.png)

> 1組織には1定修工事だけという制約

こちらに関して認識ずれがあると思っています。  
組織切り替えで対応する場合も、組織＝現場（製油所）単位になると思っています。  
その場合、結局1組織内に複数の定修工事を存在させる必要が出てきます。以下のようなイメージ。

- 組織①仙台製油所
    - 2022年定修工事
    - 2025年定修工事
    - 2028年定修工事
    - ・・・・
- 組織②根岸製油所
    - 2022年定修工事
    - 2025年定修工事
    - 2028年定修工事
    - ・・・・

将来的に上記のようにする場合も、結局1組織に複数定修工事を存在させる必要があるので、  
今回、まずは1組織内に複数定修工事を紐づけられるようにする対応を先行させる判断をした、という認識でした。上記の場合も、組織切り替え対応のほうを先行させるメリットはありそうでしょうか？![:おじぎ_女性:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/apple-medium/1f647-200d-2640-fe0f.png)

![](https://ca.slack-edge.com/T7L88TM38-U07D1SN9CJ1-57617275cd14-48)

和田 剛 (plant dev)和田 剛 (plant dev)  [6月4日 15:58](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749020319649429?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

[@日山しずか（Sol G）](https://sensyn-robotics.slack.com/team/U0405EVJQSZ)  
その方式だと、仙台の2022と2025に所属する人たちは(SensynID的には)同等のアクセス権を持つことになります。  
この場合結局アプリ側で複数定修間のアサインを実現しなくてはいけません。

[16:00](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749020417035979?thread_ts=1749019224.215429&cid=C06MR75MQKY)

SensynIDでの組織切り替えを実施するメリットがあるのは、おそらく組織:定修が1:1の場合だけです。

![](https://ca.slack-edge.com/T7L88TM38-U0405EVJQSZ-000962c57304-48)

日山しずか（Sol G）日山しずか（Sol G）  [6月4日 16:03](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749020636945089?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

[@和田 剛 (plant dev)](https://sensyn-robotics.slack.com/team/U07D1SN9CJ1)  
同じ現場（製油所）＝同じエンドクライアント、のはずなので、アクセス権（セキュリティ要件）は同じになるのではと考えています。  
その中で、定修（や日常保全）によって、エンドクライアントがWEL-ONEを使う/使わないが分かれる可能性はありますが、  
その場合も、以下のようになるのかなと思っています。

- 組織①仙台製油所（MFAあり）
    - 2022年定修工事
    - 2025年定修工事
    - 2028年定修工事
    - ・・・・
- 組織②仙台製油所（MFAなし）
    - 2022年日常保全工事
    - 2025年日常保全工事
    - 2028年日常保全工事
    - ・・・・

工事（定修や日常保全）ごとに1組織作る、となるとさすがに煩雑すぎるかな、、と思うので、なしな気がしてます![:考え中:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/apple-medium/1f914.png)

![:両目:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/apple-small/1f440.png)1

![](https://ca.slack-edge.com/T7L88TM38-U03RE33C3A5-965cb9873a75-48)

藤田 大介（CORE-G PF）藤田 大介（CORE-G PF）  [6月4日 16:04](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749020659184969?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

補足しておくと、例えば、今の所属の概念を強化して、ID側で組織の下の階層で権限や認証コントロールする、は考えられたりします。

![:oh:](https://emoji.slack-edge.com/T7L88TM38/oh/7780ca5dfd40284b.png)1

![](https://ca.slack-edge.com/T7L88TM38-U0405EVJQSZ-000962c57304-48)

日山しずか（Sol G）日山しずか（Sol G）  [6月4日 16:09](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749020959663179?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

> 今の所属の概念を強化して、ID側で組織の下の階層で権限や認証コントロールする

これができると、そもそも組織切り替え対応のほうをしなくてよい案も出てきそうですね！  
※とはいえ、所属は現状、WEL-ONE内での権限ロールと紐づいているので、所属で切り分けるのがよいかは要検討である。

![](https://ca.slack-edge.com/T7L88TM38-U07D1SN9CJ1-57617275cd14-48)

和田 剛 (plant dev)和田 剛 (plant dev)  [6月4日 16:59](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749023963315989?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

[@日山しずか（Sol G）](https://sensyn-robotics.slack.com/team/U0405EVJQSZ)  
仙台製油所の2022の定修にしか参加してない人が2025の定修も見れるべき、ということですか? （編集済み） 

![](https://ca.slack-edge.com/T7L88TM38-U0405EVJQSZ-000962c57304-48)

日山しずか（Sol G）日山しずか（Sol G）  [6月4日 17:01](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749024070601039?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

[@和田 剛 (plant dev)](https://sensyn-robotics.slack.com/team/U07D1SN9CJ1)  
それは、WEL-ONE内でコントロールする想定です！見れるか見れないかをコントロールできる必要があります。

![:naruhodo:](https://emoji.slack-edge.com/T7L88TM38/naruhodo/0a9968f4dcce9990.png)1

![](https://ca.slack-edge.com/T7L88TM38-U07D1SN9CJ1-57617275cd14-48)

和田 剛 (plant dev)和田 剛 (plant dev)  [6月4日 17:05](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749024320464419?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

なるほど、じゃ  

> 今の所属の概念を強化

しない限りはWEL-ONE側での定修-ユーザーマッピングは必須なんですね...

![:両目:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/apple-small/1f440.png)1

[17:06](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749024407871339?thread_ts=1749019224.215429&cid=C06MR75MQKY)

> 工事（定修や日常保全）ごとに1組織作る、となるとさすがに煩雑すぎる

これはSensyn側での組織作成・ユーザー割り当てのオペレーションが煩雑ってことですか?

![](https://ca.slack-edge.com/T7L88TM38-U0405EVJQSZ-000962c57304-48)

日山しずか（Sol G）日山しずか（Sol G）  [6月4日 17:13](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749024839795489?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

> 工事（定修や日常保全）ごとに1組織作る、となるとさすがに煩雑すぎる

> これはSensyn側での組織作成・ユーザー割り当てのオペレーションが煩雑ってことですか?

それもありますし、ユーザーの組織切り替え画面表示も含めて、ですかね。  
（それはWEL-ONE内ですべて管理する場合も同じだが、WEL-ONE内であればカテゴライズするとか古いものをアーカイブしてくみたいなこともできそう）

![](https://ca.slack-edge.com/T7L88TM38-U88UW2EFM-08aef220581b-48)

岡村 智史 (Dev, Platform App)岡村 智史 (Dev, Platform App)![:庭付き家:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/apple-large/1f3e1.png)  [6月4日 17:15](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749024924041499?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

溶接士DBは上記議論不要ですか？

![](https://ca.slack-edge.com/T7L88TM38-U07D1SN9CJ1-57617275cd14-48)

和田 剛 (plant dev)和田 剛 (plant dev)  [6月4日 17:17](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749025079479939?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

一応組織切り替え案では、溶接士DBとか将来作る定修サービスのようなメタ機能に対応するためには、複数の定修にアクセスできる組織を作る必要があると話してました。  
なので、たとえば上記の仙台2025定修工事も複数組織に紐づくことにする。 （編集済み） 

![:naruhodo:](https://emoji.slack-edge.com/T7L88TM38/naruhodo/0a9968f4dcce9990.png)1

[17:19](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749025141282199?thread_ts=1749019224.215429&cid=C06MR75MQKY)

(議論を整理した結果、上で言ってる組織と定修が1:1というのはあくまでwel-one用組織に限った話で、全体としてはn:nだということになりました) （編集済み） 

![](https://ca.slack-edge.com/T7L88TM38-U0405EVJQSZ-000962c57304-48)

日山しずか（Sol G）日山しずか（Sol G）  [6月4日 17:26](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749025588190799?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

> 溶接士DBは上記議論不要ですか？

溶接士DB側はいずれにしても全定修工事をおしなべてみられる構想なので、初期はいまのまま進める必要があると考えています。  
将来的にWEL-ONE側が複数組織になる際には、それらを統合して見られる仕組みを考えなくてはいけないとおもっています![:考え中:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/apple-medium/1f914.png)なので、組織切り替え案先行になってしまうと、そこを先に設計しなくてはいけなくなりそうですね。。

[17:26](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749025618241059?thread_ts=1749019224.215429&cid=C06MR75MQKY)

それが和田さんが書いているこれか  

> 一応組織切り替え案では、溶接士DBとか将来作る定修サービスのようなメタ機能に対応するためには、複数の定修にアクセスできる組織を作る必要があると話してました。

![:+1:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/apple-small/1f44d.png)1

![](https://ca.slack-edge.com/T7L88TM38-U07MMEVHBD3-ebba4d0379b2-48)

野田 智也野田 智也  [6月4日 17:41](https://sensyn-robotics.slack.com/archives/C06MR75MQKY/p1749026499884659?thread_ts=1749019224.215429&cid=C06MR75MQKY)  

> 溶接士DBとか将来作る定修サービスのようなメタ機能に対応するためには、複数の定修にアクセスできる組織

上の話に加えて、  
WEL-ONE と溶接士DBとの連携をする場合、WEL-ONE のいろんな組織から、APIリクエストが来ることを考慮する仕組み作りが必要そうという話もしました。